/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
create sequence Concert_SEQ start with 1 increment by 50
create sequence Notification_SEQ start with 1 increment by 50
create sequence Ticket_SEQ start with 1 increment by 50
create table Concert (nbr_ticket integer not null, id bigint not null, capacity varchar(255), description varchar(255), image varchar(255), location varchar(255), price varchar(255), title varchar(255), primary key (id))
create table Notification (id bigint not null, primary key (id))
create table Role (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table Ticket (date date, discount float(53), nbrRestant integer, concert_id bigint, id bigint not null, user_id bigint, ticket_type varchar(31) not null, description varchar(255), place varchar(255), statut varchar(255), primary key (id))
create table User (age integer not null, id bigint generated by default as identity (start with 1), address varchar(255), city varchar(255), email varchar(255), name varchar(255), name_entreprise varchar(255), password varchar(255), phone varchar(255), primary key (id))
create table user_role (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
alter table Ticket add constraint FKin9kj2wiejns9ptuw1pt351kg foreign key (concert_id) references Concert
alter table Ticket add constraint FKm1xvucrvrnk55qhem8xmvju6h foreign key (user_id) references User
alter table user_role add constraint FK7ir6hi5jr98lclgjgbyxafneu foreign key (role_id) references Role
alter table user_role add constraint FKcnrjdc801vcdj8n017nlriv61 foreign key (user_id) references User
