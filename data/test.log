/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
create sequence Concert_SEQ start with 1 increment by 50
create sequence Ticket_SEQ start with 1 increment by 50
create table Concert (nbr_ticket integer not null, id bigint not null, capacity varchar(255), description varchar(255), image varchar(255), location varchar(255), price varchar(255), title varchar(255), primary key (id))
create table Concert_Ticket (Concert_id bigint not null, tickets_id bigint not null unique)
create table Role (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table Ticket (date date, concert_id bigint, id bigint not null, user_id bigint, description varchar(255), place varchar(255), statut varchar(255), primary key (id))
create table User (age integer not null, id bigint generated by default as identity (start with 1), address varchar(255), city varchar(255), email varchar(255), name varchar(255), name_entreprise varchar(255), password varchar(255), phone varchar(255), primary key (id))
create table user_role (role_id bigint not null, user_id bigint not null)
alter table Concert_Ticket add constraint FKly93b6oqovkgio0pud30ptyol foreign key (tickets_id) references Ticket
alter table Concert_Ticket add constraint FKnw77xpesaiq4j03inp96gbesa foreign key (Concert_id) references Concert
alter table Ticket add constraint FKin9kj2wiejns9ptuw1pt351kg foreign key (concert_id) references Concert
alter table Ticket add constraint FKm1xvucrvrnk55qhem8xmvju6h foreign key (user_id) references User
alter table user_role add constraint FK7ir6hi5jr98lclgjgbyxafneu foreign key (role_id) references Role
alter table user_role add constraint FKcnrjdc801vcdj8n017nlriv61 foreign key (user_id) references User
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
INSERT INTO ROLE VALUES(1,'Administrateur')
INSERT INTO USER VALUES(25,1,'231 Avenue Goerges','Monacco','jakab@gmail.com','Jakab Gipsz',NULL,'jhgf','0745256895')
INSERT INTO USER VALUES(45,2,'31 Avenue du Castre','Vorchez','nemo@gmail.com','Captain Nemo',NULL,'jhgf','0745252695')
INSERT INTO USER_ROLE VALUES(1,1)
INSERT INTO USER_ROLE VALUES(1,2)
COMMIT
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
