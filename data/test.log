/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
create sequence Concert_SEQ start with 1 increment by 50
create sequence Notification_SEQ start with 1 increment by 50
create sequence Ticket_SEQ start with 1 increment by 50
create table Concert (nbr_ticket integer not null, id bigint not null, capacity varchar(255), description varchar(255), image varchar(255), location varchar(255), price varchar(255), title varchar(255), primary key (id))
create table Notification (id bigint not null, primary key (id))
create table Role (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table Ticket (date date, discount float(53), nbrRestant integer, concert_id bigint, id bigint not null, user_id bigint, ticket_type varchar(31) not null, description varchar(255), place varchar(255), statut varchar(255), primary key (id))
create table User (age integer not null, id bigint generated by default as identity (start with 1), address varchar(255), city varchar(255), email varchar(255), name varchar(255), name_entreprise varchar(255), password varchar(255), phone varchar(255), primary key (id))
create table user_role (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
alter table Ticket add constraint FKin9kj2wiejns9ptuw1pt351kg foreign key (concert_id) references Concert
alter table Ticket add constraint FKm1xvucrvrnk55qhem8xmvju6h foreign key (user_id) references User
alter table user_role add constraint FK7ir6hi5jr98lclgjgbyxafneu foreign key (role_id) references Role
alter table user_role add constraint FKcnrjdc801vcdj8n017nlriv61 foreign key (user_id) references User
INSERT INTO ROLE VALUES(1,'Administrateur')
INSERT INTO ROLE VALUES(2,'Client')
INSERT INTO ROLE VALUES(3,'Organisateur')
INSERT INTO USER VALUES(25,1,'231 Avenue Goerges','Monacco','jakab@gmail.com','Jakab Gipsz',NULL,'jhgf','0745256895')
INSERT INTO USER VALUES(45,2,'31 Avenue du Castre','Vorchez','nemo@gmail.com','Captain Nemoi',NULL,'jhgf','0745252695')
INSERT INTO USER VALUES(28,3,'10 rue Paris','Paris','alice@gmail.com','Alice',NULL,'password123','0654879632')
INSERT INTO USER VALUES(35,4,'12 avenue Lyon','Lyon','bob@gmail.com','Bob',NULL,'pass456','0754123658')
INSERT INTO CONCERT VALUES(100,1,NULL,'Festival de Rock annuel',NULL,'Stade de France','50\u20ac','Rock Festival')
INSERT INTO CONCERT VALUES(50,2,NULL,'Soir\u00e9e Jazz avec les meilleurs artistes',NULL,'Th\u00e9\u00e2tre de Lyon','30\u20ac','Jazz Night')
INSERT INTO USER_ROLE VALUES(1,1)
INSERT INTO USER_ROLE VALUES(1,2)
INSERT INTO USER_ROLE VALUES(2,3)
INSERT INTO USER_ROLE VALUES(3,4)
INSERT INTO TICKET VALUES(NULL,25.0E0,50,1,1,3,'STANDARD',NULL,NULL,'Valid\u00e9')
INSERT INTO TICKET VALUES(NULL,NULL,NULL,1,2,3,'LAST_MINUTE',NULL,NULL,'En attente')
ALTER SEQUENCE PUBLIC.CONCERT_SEQ RESTART WITH 101
ALTER SEQUENCE PUBLIC.TICKET_SEQ RESTART WITH 101
COMMIT
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
INSERT INTO CONCERT VALUES(100,52,NULL,'Festival de Rock annuel',NULL,'Stade de France','50\u20ac','Rock Festival')
INSERT INTO CONCERT VALUES(50,53,NULL,'Soir\u00e9e Jazz avec les meilleurs artistes',NULL,'Th\u00e9\u00e2tre de Lyon','30\u20ac','Jazz Night')
ALTER SEQUENCE PUBLIC.CONCERT_SEQ RESTART WITH 151
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
INSERT INTO CONCERT VALUES(100,102,NULL,'Festival de Rock annuel',NULL,'Stade de France','50\u20ac','Rock Festival')
INSERT INTO CONCERT VALUES(50,103,NULL,'Soir\u00e9e Jazz avec les meilleurs artistes',NULL,'Th\u00e9\u00e2tre de Lyon','30\u20ac','Jazz Night')
ALTER SEQUENCE PUBLIC.CONCERT_SEQ RESTART WITH 201
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
INSERT INTO CONCERT VALUES(100,152,NULL,'Festival de Rock annuel',NULL,'Stade de France','50\u20ac','Rock Festival')
INSERT INTO CONCERT VALUES(50,153,NULL,'Soir\u00e9e Jazz avec les meilleurs artistes',NULL,'Th\u00e9\u00e2tre de Lyon','30\u20ac','Jazz Night')
ALTER SEQUENCE PUBLIC.CONCERT_SEQ RESTART WITH 251
COMMIT
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
INSERT INTO CONCERT VALUES(100,202,NULL,'Festival de Rock annuel',NULL,'Stade de France','50\u20ac','Rock Festival')
INSERT INTO CONCERT VALUES(50,203,NULL,'Soir\u00e9e Jazz avec les meilleurs artistes',NULL,'Th\u00e9\u00e2tre de Lyon','30\u20ac','Jazz Night')
INSERT INTO TICKET VALUES(NULL,25.0E0,50,1,52,3,'STANDARD',NULL,NULL,'Valid\u00e9')
INSERT INTO TICKET VALUES(NULL,NULL,NULL,1,53,3,'LAST_MINUTE',NULL,NULL,'En attente')
ALTER SEQUENCE PUBLIC.CONCERT_SEQ RESTART WITH 301
ALTER SEQUENCE PUBLIC.TICKET_SEQ RESTART WITH 151
COMMIT
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
